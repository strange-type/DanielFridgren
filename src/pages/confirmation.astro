---
import Layout from "../layouts/Layout.astro";
import Spacer from "../components/Spacer.astro";
import PageWrapper from "../components/layouts/PageWrapper.astro";

// Get the type parameter from URL (defaults to 'newsletter')
const type = Astro.url.searchParams.get("type") || "newsletter";

// Define content based on type
const content = {
    newsletter: {
        title: "Subscription Confirmed",
        desc: "Thank you for subscribing to the newsletter",
        heading: "Thank You!",
        message:
            "You've successfully subscribed to the newsletter. Please check your email to confirm your subscription.",
    },
    contact: {
        title: "Message Sent",
        desc: "Your message has been sent successfully",
        heading: "Message Sent!",
        message:
            "Thank you for reaching out. I will get back to you as soon as possible.",
    },
};

const currentContent =
    content[type as keyof typeof content] || content.newsletter;
---

<PageWrapper>
    <Layout title={currentContent.title} desc={currentContent.desc}>
        <Spacer size="2xl" />
        <div class="confirmation-container">
            <h1>{currentContent.heading}</h1>

            <Spacer size="small" />

            <p class="text">
                {currentContent.message}
            </p>

            <Spacer size="small" />

            <p class="text">
                <a href="/">Return to homepage</a>
            </p>
        </div>
        <Spacer size="2xl" />
    </Layout>
</PageWrapper>

<style>
    .confirmation-container {
        max-width: 42rem;
        margin: 0 auto;
        padding: 4rem 1rem;
    }

    .confirmation-container h1 {
        margin-bottom: 1.5rem;
    }
</style>
