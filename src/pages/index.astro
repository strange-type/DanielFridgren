---
import Layout from "../layouts/Layout.astro";
import Seo from "../components/seo.astro";
import Spacer from "../components/mdx/Spacer.astro";
import PageWrapper from "../components/layouts/PageWrapper.astro";
import ContactSection from "../components/layouts/ContactSection.astro";
import fs from "fs";

// gather SVG logos from public/images/logos at build time
type LogoEntry = { name: string; svg: string };
let logoSvgs: LogoEntry[] = [];
try {
	const logosDir = new URL("../../public/images/logos/", import.meta.url);
	const items = fs.readdirSync(logosDir, { withFileTypes: true });
	logoSvgs = items
		.filter((d) => d.isFile() && d.name.toLowerCase().endsWith(".svg"))
		.map((d) => {
			const fileUrl = new URL(d.name, logosDir);
			const svg = fs.readFileSync(fileUrl, "utf8");
			return { name: d.name, svg };
		});
} catch (err) {
	logoSvgs = [];
}

const logosHtml = logoSvgs
	.map((l) => `<div class="logo-item fadeup-st">${l.svg}</div>`)
	.join("");

//gathering cases for work section
const modules = import.meta.glob("../content/cases/*.md", {
	eager: true,
}) as Record<string, any>;

const moduleKeys = Object.keys(modules || {});

const posts = moduleKeys
	.map((path) => {
		const mod = (modules as Record<string, any>)[path];
		const fm = (mod as any).frontmatter || {};
		const filename = path.match(/([^/\\]+)\.md$/)?.[1] || "";
		const slug = fm.slug || filename;
		return {
			...fm,
			url: `/cases/${slug}`,
			__path: path,
		};
	})
	.sort(
		(a, b) =>
			(Date.parse(b.date || "") || 0) - (Date.parse(a.date || "") || 0),
	);
---

<script>
	import "@mux/mux-player";
</script>

<Layout title="Daniel Fridgren">
	<Seo
		title="Daniel Fridgren — Senior UX Design for product leaders"
		description="Senior design support for product leaders who need a strong partner. Helping organisations build complex products with simple user flows, from discovery to final implementation."
		pathname={Astro.url.pathname}
		keywords={[
			"user experience",
			"ux design",
			"ui design",
			"digital strategy",
			"product design",
			"digital transformation",
			"digital consulting",
			"customer experience",
			"daniel fridgren",
		]}
	/>
	<div class="index-page-container">
		<div class="page-bg" aria-hidden="true">
			<svg
				width="538"
				height="861"
				viewBox="0 0 538 861"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path
					d="M538 406.038H537.788C537.929 409.63 538 413.24 538 416.866C538 566.365 417.564 687.558 269 687.558C120.436 687.558 9.83662e-05 566.365 0 416.866C0 267.367 120.435 146.174 269 146.174C329.558 146.174 385.442 166.311 430.4 200.294V0H538V406.038ZM269.002 254.962C179.584 254.962 107.096 327.45 107.096 416.868C107.096 506.287 179.584 578.775 269.002 578.775C358.421 578.775 430.909 506.287 430.909 416.868C430.909 327.45 358.421 254.962 269.002 254.962Z"
					fill="#F4F4F4"></path>
			</svg>
		</div>
		<PageWrapper>
			<section id="hero" class="hero-section">
				<mux-player
					playback-id="heEyyMTCGulT0201qoOrDX4sj4mi6Kvw7Kc8ryw7MbviY"
					accent-color="#e6a92c"
					thumbnail-time="2"
					loop="true"
					autoplay="any"></mux-player>
				<Spacer size="large" />
			</section>

			<section id="about" class="general-section">
				<div class="_1-2-grid">
					<p class="section-title">About</p>
					<div class="measure">
						<h1 class="measure fadeup-st">
							Senior UX Design for product leaders who need a
							strong partner
						</h1>
						<br />
						<div class="body-text-medium fadeup-st">
							I'm a senior UX designer currently working at <a
								href="https://wisecompany.se">In Wise Company</a
							>, where I help organizations build complex products
							with simple user flows, all the way from early
							discovery to final implementation.
							<Spacer size="xs" />
							With 20 years of hands-on experience across established
							product companies and fast-moving agencies, I bring structure,
							direction, and design that holds up in the real world.
							<Spacer size="xs" />
							My approach blends strategic insight with practical delivery:
							understand what matters, prioritize effectively, deliver
							quickly, and create solutions that stand the test of
							time.
							<Spacer size="xs" />
							Want to discuss a project or explore working together?
						</div>
						<Spacer size="small" />
						<a
							href="mailto:daniel.fridgren@gmail.com?subject=Meeting+request"
							class="pill-btn fadeup-st"
							target="_blank"
							rel="noreferrer">Book a meeting</a
						>
					</div>
				</div>
			</section>
			<Spacer size="xl" />
			<section id="services" class="general-section">
				<div class="_1-2-grid">
					<p class="section-title">Services</p>
					<div class="measure">
						<h1 class="fadeup-st">
							Supporting product teams with clarity and direction
						</h1>
						<Spacer size="small" />
						<ul class="body-list">
							<li class="fadeup-st">
								<img
									src="/images/icon-product-design.svg"
									alt="Product design icon"
									width="28"
									height="28"
								/>
								<div>
									<p class="subheader-large">
										Product design
									</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										From early discovery to final interface
										— translating insights, constraints and
										business goals into products that work.
									</p>
								</div>
							</li>
							<li class="fadeup-st">
								<img
									src="/images/icon-user-research.svg"
									alt="User research icon"
									width="28"
									height="28"
								/>
								<div>
									<p class="subheader-large">User research</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Planning and conducting research to
										uncover needs, reduce uncertainty and
										inform product decisions with evidence.
									</p>
								</div>
							</li>
							<li class="fadeup-st">
								<img
									src="/images/icon-prototyping.svg"
									alt="Prototyping icon"
									width="28"
									height="28"
								/>
								<div>
									<p class="subheader-large">
										Prototyping & validation
									</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Building interactive prototypes to
										explore concepts, validate assumptions
										and improve usability before investing
										in development.
									</p>
								</div>
							</li>
							<li class="fadeup-st">
								<img
									src="/images/icon-strategy.svg"
									alt="Strategy icon"
									width="28"
									height="28"
								/>
								<div>
									<p class="subheader-large">
										Design strategy
									</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Clarifying product direction by aligning
										user needs, business priorities, and
										technical realities.
									</p>
								</div>
							</li>
							<li class="fadeup-st">
								<img
									src="/images/icon-teambuilding.svg"
									alt="Building teams icon"
									width="28"
									height="28"
								/>
								<div>
									<p class="subheader-large">
										Design team enablement
									</p>

									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Helping organisations grow confident,
										autonomous design teams through
										coaching, hiring support and practical
										ways of working.
									</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<Spacer size="xl" />
			<section id="work" class="general-section">
				<div>
					<h1 class="fadeup-st">Selected case studies</h1>
					<div class="body-text fadeup-st">
						A curated mix of UX, discovery and research work from
						recent engagements.
					</div>
					<Spacer size="small" />
					<div class="work-cards">
						{
							posts.map((p) => (
								<a
									class="card-w-inline-block link-plain"
									href={p.url}
									aria-label={`Open case study about ${p.title || p.__path}`}
								>
									{p.heroImage || p.image ? (
										<figure class="work-figure">
											<img
												src={
													p.heroImage ||
													p.image ||
													"/images/og-image.png"
												}
												alt={p.title || ""}
												loading="lazy"
											/>
										</figure>
									) : null}

									<div class="work-card-meta">
										<div class="work-card-title">
											{p.title || p.excerpt || ""}
											<svg
												width="16"
												height="16"
												viewBox="0 0 16 16"
												fill="none"
												xmlns="http://www.w3.org/2000/svg"
											>
												<path
													d="M11.875 4H11.5V4.75H11.875H14.7203L8.98516 10.4852L8.72031 10.75L9.25 11.2797L9.51484 11.0148L15.25 5.27969V8.125V8.5H16V8.125V4.375V4H15.625H11.875ZM4.375 4.75H4V5.125V15.625V16H4.375H14.875H15.25V15.625V11.125V10.75H14.5V11.125V15.25H4.75V5.5H8.875H9.25V4.75H8.875H4.375Z"
													fill="black"
												/>
											</svg>
										</div>
										<h3 class="work-card-subtitle">
											{p.client || p.__path}
										</h3>
									</div>
								</a>
							))
						}
					</div>

					{
						posts.length === 0 ? (
							<div class="body-text">
								<p>
									No case posts found. Diagnostic info
									(development only):
								</p>
								<pre style="white-space:pre-wrap; background:#f6f6f6; padding:8px; border-radius:4px;">
									{JSON.stringify(
										Object.keys(modules || {}),
										null,
										2,
									)}
								</pre>
							</div>
						) : null
					}
				</div>
			</section>
			<Spacer size="large" />
			<section id="experience" class="general-section">
				<div class="_1-2-grid">
					<p class="section-title"></p>
					<div class="measure">
						<h1 class="fadeup-st">
							Bringing 20 years of hands‑on design experience
						</h1>
						<br />
						<div class="timeline">
							<div class="timeline-line fadeup-st"></div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Senior Design Consultant <a
											href="https://wisecompany.se"
										>
											• In Wise Company</a
										>
									</div>
									<div class="timeline-year">
										Jan 2025 - Present
									</div>
									<div class="body-secondary">
										Solo but always In Wise Company.
										Partnering with companies to solve
										complex product challenges through
										strategic design and hands-on UX
										delivery.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Design Manager <a
											href="https://refined.com"
										>
											• Refined</a
										>
									</div>
									<div class="timeline-year">
										Mar 2020 - Oct 2024
									</div>
									<div class="body-secondary">
										Built and scaled the design function for
										a B2B SaaS platform, growing the team to
										6 designers while establishing design
										systems, product discovery practices,
										and strategic, cross-functional
										processes.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Senior UX Designer <a
											href="https://mindoktor.se"
										>
											• Min Doktor</a
										>
									</div>
									<div class="timeline-year">
										Apr 2016 - Mar 2020
									</div>
									<div class="body-secondary">
										Designed patient- and clinician facing
										digital healthcare solutions,
										end-to-end, balancing strict regulatory
										requirements with intuitive usability.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Senior UX Designer <a
											href="https://topp.se"
										>
											• TOPP</a
										>
									</div>
									<div class="timeline-year">
										Aug 2013 - Apr 2016
									</div>
									<div class="body-secondary">
										Consultant in design projects across
										mobile applications, IoT, medical
										devices and automotive products.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										UX Designer <a
											href="https://www.blackberry.com"
										>
											• BlackBerry</a
										>
									</div>
									<div class="timeline-year">
										Mar 2011 - Jul 2013
									</div>
									<div class="body-secondary">
										Lead designer for Home screen and Lock
										screen on BlackBerry 10, shaping core
										navigation and multitasking paradigms
										for millions of users.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Interaction Designer<a href="">
											• Color Monkey</a
										>
									</div>
									<div class="timeline-year">
										Nov 2009 - Mar 2011
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Interaction Designer<a href="">
											• The Astonishing Tribe</a
										>
									</div>
									<div class="timeline-year">
										Jan 2006 - Nov 2009
									</div>
									<div class="body-secondary">
										Core design team member for the first
										version of Android at Google, working
										on-site in Mountain View to design
										foundational interaction models and UI
										patterns that shaped the platform used
										by billions.
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<Spacer size="xs" />
			<ContactSection />
			<a
				href="https://www.brainville.com/SE/Brainville1"
				target="_blank"
				style="position:absolute; left:-9999px;"
			>
				<img
					src="https://www.brainville.com/Content/Images/SocialMedia/OnLight_Flat.svg"
					alt="Check out our company profile in Brainville"
				/>
			</a>
		</PageWrapper>
	</div>
</Layout>

<style>
	/* Timeline Styles */
	.timeline {
		position: relative;
		max-width: 56ch;
		margin: var(--space-l) 0 var(--space-xl) 0;
		font-family: var(--font-sans);
	}

	/* Timeline line */
	.timeline-line {
		position: absolute;
		left: 7px;
		top: 18px;
		bottom: -90px;
		width: 2px;
		background: linear-gradient(
			to bottom,
			var(--color-very-subtle) 75%,
			transparent 90%
		);
	}

	.timeline-item {
		position: relative;
		margin-bottom: var(--space-xl);
		padding-left: 2.5rem;
	}

	.timeline-item:last-child {
		margin-bottom: 0;
	}

	.timeline-marker {
		position: absolute;
		left: 0;
		top: 3px;
		width: 16px;
		height: 16px;
		background: var(--color-bg);
		border: 2px solid var(--color-subtle);
		border-radius: 50%;
		z-index: 1;
	}

	.timeline-year {
		font-weight: 500;
		font-size: var(--fs-xs);
		color: var(--color-subtle);
		margin-bottom: 0.45rem;
		text-transform: uppercase;
		letter-spacing: 0.025em;
	}

	.timeline a {
		color: var(--color-muted);
		text-decoration: none;
	}

	@media (max-width: 768px) {
		.timeline {
			margin-left: var(--space-2xs);
		}

		.timeline::before {
			top: 14px;
			left: 7px;
			bottom: -80px;
		}

		.timeline-item {
			padding-left: var(--space-l);
		}
	}

	/* Logo grid for Employers & Clients */
	.logo-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 3rem;
		align-items: center;
		justify-items: left;
	}

	.logo-item img,
	.logo-item svg {
		max-width: 160px;
		width: 100%;
		height: auto;
		display: block;
		object-fit: contain;
	}

	@media (max-width: 640px) {
		.logo-grid {
			grid-template-columns: repeat(2, 1fr);
			gap: 2.5rem;
		}
		.logo-item img,
		.logo-item svg {
			max-width: 120px;
		}
	}

	/* Page background SVG positioning for parallax */
	.index-page-container {
		position: relative;
		overflow: visible;
	}

	/* Transparent SVG background positioned bottom right */
	.page-bg {
		position: fixed;
		right: 30px;
		top: 100vh;
		pointer-events: none;
		z-index: 0;
		opacity: 0;
		max-height: 100vh;
		overflow: visible;
		will-change: transform, opacity;
	}

	/* Ensure all page content sits above the background */
	.index-page-container > :not(.page-bg) {
		position: relative;
		z-index: 1;
	}

	/* Responsive tweaks for smaller screens */
	@media (max-width: 768px) {
		.page-bg {
			opacity: 0.12;
		}
	}
</style>

<script>
	// fallback: if mux-player fails to load, replace with image
	const player = document.getElementById("baxter-player");
	if (player) {
		player.addEventListener("error", () => {
			const figure = player.closest(".work-figure");
			if (figure) {
				figure.innerHTML =
					'<img src="/images/baxter.png" alt="Baxter dialysis user interface" loading="lazy" />';
			}
		});
	}
</script>

<script>
	// Parallax scroll effect for page background SVG
	const pageBg = document.querySelector(".page-bg") as HTMLElement | null;
	if (pageBg) {
		const parallaxSpeed = 0.2;
		let ticking = false;

		const updateParallax = () => {
			const scrollY = window.scrollY;
			const scrollHeight =
				document.documentElement.scrollHeight - window.innerHeight;
			const scrollProgress = scrollY / scrollHeight;

			// Parallax: move upward as you scroll (negative = up)
			pageBg.style.transform = `translateY(-${0.7 * scrollY * parallaxSpeed}px)`;

			// Fade in opacity from 70% to 75% scroll
			const fadeStart = 0.7;
			const fadeEnd = 0.75;
			const opacity = Math.max(
				0,
				Math.min(
					1,
					(scrollProgress - fadeStart) / (fadeEnd - fadeStart),
				),
			);
			pageBg.style.opacity = opacity.toString();
			ticking = false;
		};

		window.addEventListener(
			"scroll",
			() => {
				if (!ticking) {
					requestAnimationFrame(updateParallax);
					ticking = true;
				}
			},
			{ passive: true },
		);

		// Initial call to position correctly
		updateParallax();
	}
</script>
