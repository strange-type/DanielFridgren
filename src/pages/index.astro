---
import Layout from "../layouts/Layout.astro";
import Seo from "../components/seo.astro";
import Spacer from "../components/mdx/Spacer.astro";
import PageWrapper from "../components/layouts/PageWrapper.astro";
import ContactSection from "../components/layouts/ContactSection.astro";
import { getCollection } from "astro:content";
import fs from "fs";

// gather SVG logos from public/images/logos at build time
type LogoEntry = { name: string; svg: string };
let logoSvgs: LogoEntry[] = [];
try {
	const logosDir = new URL("../../public/images/logos/", import.meta.url);
	const items = fs.readdirSync(logosDir, { withFileTypes: true });
	logoSvgs = items
		.filter((d) => d.isFile() && d.name.toLowerCase().endsWith(".svg"))
		.map((d) => {
			const fileUrl = new URL(d.name, logosDir);
			const svg = fs.readFileSync(fileUrl, "utf8");
			return { name: d.name, svg };
		});
} catch (err) {
	logoSvgs = [];
}

const logosHtml = logoSvgs
	.map((l) => `<div class="logo-item fadeup-st">${l.svg}</div>`)
	.join("");

//gathering cases for work section
const modules = import.meta.glob("../content/cases/*.md", {
	eager: true,
}) as Record<string, any>;

const moduleKeys = Object.keys(modules || {});

const posts = moduleKeys
	.map((path) => {
		const mod = (modules as Record<string, any>)[path];
		const fm = (mod as any).frontmatter || {};
		const filename = path.match(/([^/\\]+)\.md$/)?.[1] || "";
		const slug = fm.slug || filename;
		return {
			...fm,
			url: `/cases/${slug}`,
			__path: path,
		};
	})
	.sort(
		(a, b) =>
			(Date.parse(b.date || "") || 0) - (Date.parse(a.date || "") || 0),
	);

// Fetch recent blog posts for featured section
const allBlogPosts = (await getCollection("blog"))
	.filter((post) => import.meta.env.DEV || !post.data.draft)
	.sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime());

// Get the 2 most recent posts
const featuredPosts = allBlogPosts.slice(0, 2);

// Format date helper
const formatDate = (date: string) =>
	new Date(date).toLocaleDateString("en-US", {
		month: "short",
		day: "2-digit",
		year: "numeric",
	});
---

<script>
	import "@mux/mux-player";
</script>

<Layout title="Daniel Fridgren">
	<Seo
		title="Daniel Fridgren — Senior UX Design for product leaders"
		description="Helping organisations build complex products with simple user flows, from discovery to final implementation."
		pathname={Astro.url.pathname}
		keywords={[
			"user experience",
			"ux design",
			"ui design",
			"digital strategy",
			"product design",
			"digital transformation",
			"digital consulting",
			"customer experience",
			"daniel fridgren",
		]}
	/>
	
	<!-- Video Structured Data for Search Engines -->
	<script type="application/ld+json" set:html={JSON.stringify({
		"@context": "https://schema.org",
		"@type": "VideoObject",
		"name": "Daniel Fridgren - UX Design Portfolio Showcase",
		"description": "Senior UX Designer helping organizations build complex products with simple user flows",
		"thumbnailUrl": `${Astro.site}images/og-image.png`,
		"uploadDate": "2025-12-03T16:24:14Z",
		"duration": "PT33S",
		"contentUrl": "https://stream.mux.com/heEyyMTCGulT0201qoOrDX4sj4mi6Kvw7Kc8ryw7MbviY.m3u8",
		"embedUrl": "https://youtu.be/N9Z1nwKOgv8",
		"publisher": {
			"@type": "Person",
			"name": "Daniel Fridgren",
			"url": Astro.site
		}
	})} />

<!--
	<div class="index-page-container">
		<div class="page-bg" aria-hidden="true">
<svg width="515" height="656" viewBox="0 0 515 656" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M514.409 396.082L514.404 397.762C513.509 540.431 398.7 655.807 257.205 655.808C115.155 655.808 0.000186813 539.525 0 396.082C0 252.639 115.155 136.355 257.205 136.355C298.836 136.356 338.157 146.343 372.946 164.075V339.412C352.104 296.087 308.109 266.221 257.205 266.221C186.18 266.221 128.604 324.363 128.604 396.084C128.604 467.805 186.18 525.947 257.205 525.947C328.23 525.947 385.808 467.805 385.808 396.084V396.082H385.807V0H514.409V396.082Z" fill="#F2F2F2"/>
</svg>
 
		</div>
		-->

		<PageWrapper>
			<section id="hero" class="hero-section full-bleed">
				<mux-player
					playback-id="heEyyMTCGulT0201qoOrDX4sj4mi6Kvw7Kc8ryw7MbviY"
					accent-color="#e6a92c"
					thumbnail-time="2"
					loop="true"
					autoplay="any"></mux-player>
				<Spacer size="large" />
			</section>

			<section id="about" class="general-section">
				<div class="_1-2-grid">
					<p class="section-title fadeup-st">About</p>
					<div class="measure">
						<h1 class="measure fadeup-st">
							Senior UX Design for product leaders who need a
							strong partner
						</h1>
						<br />
						<div class="body-text fadeup-st">
							I'm Daniel Fridgren, a senior UX designer currently working at <a
								href="https://wisecompany.se">In Wise Company</a
							>, where I help organizations build complex products
							with simple user flows, all the way from early
							discovery to final implementation.
							<Spacer size="xs" />
							With 20 years of hands-on experience across established
							product companies and fast-moving agencies, I bring structure,
							direction, and design that holds up in the real world.
							<Spacer size="xs" />
							My approach blends strategic insight with practical delivery:
							understand what matters, prioritize effectively, deliver
							quickly, and create solutions that stand the test of
							time.
							<Spacer size="xs" />
							Want to discuss a project or explore working together?
						</div>
						<Spacer size="small" />
						<a
							href="mailto:daniel@fridgren.se?subject=Meeting+request"
							class="pill-btn fadeup-st"
							data-umami-event="Top CTA Click"
							target="_blank"
							rel="noreferrer">Book a meeting</a
						>
					</div>
				</div>
			</section>
			<Spacer size="xl" />
			<section id="services" class="general-section">
				<div class="_1-2-grid">
					<p class="section-title fadeup-st">Services</p>
					<div class="measure">
						<h1 class="fadeup-st">
							Supporting product teams with clarity and direction
						</h1>
						<Spacer size="small" />
						<ul class="body-list fadeup-st">
							<li class="">
								<img
									src="/images/icon-product-design.svg"
									alt="Product design icon"
									width="28"
									height="28"
								/>
								<div class="service-item">
									<p class="subheader-large">
										Product design
									</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										From early discovery to final interface
										— translating insights, constraints and
										business goals into products that work.
									</p>
								</div>
							</li>
							<li class="">
								<img
									src="/images/icon-user-research.svg"
									alt="User research icon"
									width="28"
									height="28"
								/>
								<div class="service-item">
									<p class="subheader-large">User research</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Planning and conducting research to
										uncover needs, reduce uncertainty and
										inform product decisions with evidence.
									</p>
								</div>
							</li>
							<li class="">
								<img
									src="/images/icon-prototyping.svg"
									alt="Prototyping icon"
									width="28"
									height="28"
								/>
								<div class="service-item">
									<p class="subheader-large">
										Prototyping & validation
									</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Building interactive prototypes to
										explore concepts, validate assumptions
										and improve usability before investing
										in development.
									</p>
								</div>
							</li>
							<li class="">
								<img
									src="/images/icon-strategy.svg"
									alt="Strategy icon"
									width="28"
									height="28"
								/>
								<div class="service-item">
									<p class="subheader-large">
										Design strategy
									</p>
									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Clarifying product direction by aligning
										user needs, business priorities, and
										technical realities.
									</p>
								</div>
							</li>
							<li class="">
								<img
									src="/images/icon-teambuilding.svg"
									alt="Building teams icon"
									width="28"
									height="28"
								/>
								<div class="service-item">
									<p class="subheader-large">
										Design team enablement
									</p>

									<p
										class="body-text"
										style="margin: 0; margin-top: 0.25rem;"
									>
										Helping organisations grow confident,
										autonomous design teams through
										coaching, hiring support and practical
										ways of working.
									</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<Spacer size="xl" />
			<section id="work" class="general-section">
				<div class="service-item">
					<h1 class="fadeup-st">Selected case studies</h1>
					<div class="body-text fadeup-st">
						A curated mix of UX, discovery and research work from
						recent engagements.
					</div>
					<Spacer size="small" />
					<div class="work-cards">
						{
							posts.map((p) => (
								<a
									class="card-w-inline-block link-plain fadeup-st"
									href={p.url}
									aria-label={`Open case study about ${p.title || p.__path}`}
								>
									{p.heroImage || p.image ? (
										<figure class="work-figure">
											<img
												src={
													p.heroImage ||
													p.image ||
													"/images/og-image.png"
												}
												alt={p.title || ""}
												loading="lazy"
											/>
										</figure>
									) : null}

									<div class="work-card-meta">
										<div class="work-card-title">
											{p.description || p.excerpt || ""}
										</div>
										<h3 class="work-card-subtitle">
											{p.client || p.__path}
										</h3>
									</div>
								</a>
								<Spacer size="xs" />
							))
						}
					</div>

					{
						posts.length === 0 ? (
							<div class="body-text">
								<p>
									No case posts found. Diagnostic info
									(development only):
								</p>
								<pre style="white-space:pre-wrap; background:#f6f6f6; padding:8px; border-radius:4px;">
									{JSON.stringify(
										Object.keys(modules || {}),
										null,
										2,
									)}
								</pre>
							</div>
						) : null
					}
				</div>
			</section>
			<!--<Spacer size="xl" />
			
				<section id="blog-featured" class="general-section">
					
						<div></div>
						<div class="measure">
						<h1 class="fadeup-st">Latest from the blog</h1>
						<div class="body-text fadeup-st">
							Recent thoughts on design, complexity and technology.
						</div>
						<Spacer size="small" />
						<div class="blog-cards measure">
							{featuredPosts.map((post) => (
								<a
									href={`/blog/${post.slug}`}
									class="blog-card fadeup-st"
								>
									<div class="blog-card-content">
										<time class="blog-card-date" datetime={post.data.pubDate}>
											{formatDate(post.data.pubDate)}
										</time>
										<h3 class="service-item">{post.data.title}</h3>
										{post.data.description && (
											<p class="blog-card-description">
												{post.data.description}
											</p>
										)}
										<span class="blog-card-link" data-umami-event="Blog Read Article">Read article →</span>
									</div>
								</a>
							))}
						</div>	
				</div>
			</section>
			<Spacer size="large" />
 

 			<Spacer size="large" />
			<section id="experience" class="general-section">
				<div class="_1-2-grid">
					<p class="section-title"></p>
					<div class="measure">
						<h1 class="fadeup-st">
							Bringing 20 years of hands‑on design experience
						</h1>
						<br />
						<div class="timeline">
							<div class="timeline-line fadeup-st"></div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Senior Design Consultant <a
											href="https://wisecompany.se"
										>
											• In Wise Company</a
										>
									</div>
									<div class="timeline-year">
										Jan 2025 - Present
									</div>
									<div class="body-secondary">
										Solo but always In Wise Company.
										Partnering with companies to solve
										complex product challenges through
										strategic design and hands-on UX
										delivery.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Design Manager <a
											href="https://refined.com"
										>
											• Refined</a
										>
									</div>
									<div class="timeline-year">
										Mar 2020 - Oct 2024
									</div>
									<div class="body-secondary">
										Built and scaled the design function for
										a B2B SaaS platform, growing the team to
										6 designers while establishing design
										systems, product discovery practices,
										and strategic, cross-functional
										processes.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Senior UX Designer <a
											href="https://mindoktor.se"
										>
											• Min Doktor</a
										>
									</div>
									<div class="timeline-year">
										Apr 2016 - Mar 2020
									</div>
									<div class="body-secondary">
										Designed patient- and clinician facing
										digital healthcare solutions,
										end-to-end, balancing strict regulatory
										requirements with intuitive usability.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Senior UX Designer <a
											href="https://topp.se"
										>
											• TOPP</a
										>
									</div>
									<div class="timeline-year">
										Aug 2013 - Apr 2016
									</div>
									<div class="body-secondary">
										Consultant in design projects across
										mobile applications, IoT, medical
										devices and automotive products.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										UX Designer <a
											href="https://www.blackberry.com"
										>
											• BlackBerry</a
										>
									</div>
									<div class="timeline-year">
										Mar 2011 - Jul 2013
									</div>
									<div class="body-secondary">
										Lead designer for Home screen and Lock
										screen on BlackBerry 10, shaping core
										navigation and multitasking paradigms
										for millions of users.
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Interaction Designer<a href="">
											• Color Monkey</a
										>
									</div>
									<div class="timeline-year">
										Nov 2009 - Mar 2011
									</div>
								</div>
							</div>
							<div class="timeline-item fadeup-st">
								<div class="timeline-marker"></div>
								<div class="timeline-content">
									<div class="subheader-large">
										Interaction Designer<a href="">
											• The Astonishing Tribe</a
										>
									</div>
									<div class="timeline-year">
										Jan 2006 - Nov 2009
									</div>
									<div class="body-secondary">
										Core design team member for the first
										version of Android at Google, working
										on-site in Mountain View to design
										foundational interaction models and UI
										patterns that shaped the platform used
										by billions.
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<Spacer size="xs" />

-->
 <ContactSection />
			<a
				href="https://www.brainville.com/SE/Brainville1"
				target="_blank"
				rel="noopener noreferrer"
				style="position:absolute; left:-9999px;"
			>
				<img
					src="https://www.brainville.com/Content/Images/SocialMedia/OnLight_Flat.svg"
					alt="Check out our company profile in Brainville"
				/>
			</a>
		</PageWrapper>
	</div>
</Layout>

<style>
	/* Full bleed hero section */
	.hero-section.full-bleed {
		width: 100vw;
		max-width: 1600px;
		margin-left: 50%;
		transform: translateX(-50%);
		margin-top: 0;
		margin-bottom: var(--space-xl);
	}

	.hero-section.full-bleed mux-player {
		width: 100%;
		height: auto;
	}

	@media (max-width: 768px) {
		.hero-section.full-bleed {
			margin-top: calc(-1 * var(--space-s));
		}
	}

	@media (max-width: 1600px) {
		.hero-section.full-bleed {
			width: 100vw;
		}
	}


	/* Logo grid for Employers & Clients */
	.logo-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 3rem;
		align-items: center;
		justify-items: left;
	}

	.logo-item img,
	.logo-item svg {
		max-width: 160px;
		width: 100%;
		height: auto;
		display: block;
		object-fit: contain;
	}

	@media (max-width: 640px) {
		.logo-grid {
			grid-template-columns: repeat(2, 1fr);
			gap: 2.5rem;
		}
		.logo-item img,
		.logo-item svg {
			max-width: 120px;
		}
	}

	/* Page background SVG positioning for parallax */
	.index-page-container {
		position: relative;
		overflow: visible;
	}

	/* Transparent SVG background positioned bottom right */
	.page-bg {
		position: fixed;
		right: 30px;
		top: 100vh;
		pointer-events: none;
		z-index: 0;
		opacity: 0;
		max-height: 100vh;
		overflow: visible;
		will-change: transform, opacity;
	}

	/* Ensure all page content sits above the background */
	.index-page-container > :not(.page-bg) {
		position: relative;
		z-index: 1;
	}

	/* Responsive tweaks for smaller screens */
	@media (max-width: 768px) {
		.page-bg {
			opacity: 0.12;
		}
	}

	/* Service text highlight effect */
	.service-item p {
		color: var(--color-subtle);
		transition: color 0.25s ease;
	}

	.service-item .body-text {
		max-width: 42ch;
	}

	.service-item.in-focus p {
		color: var(--color-fg);
	}

	/* Work cards stacked layout */

	.blog-cards {
		display: flex;
		flex-direction: column;
		gap: var(--space-l);
		margin-top: var(--space-l);
	}

	.blog-card {
		display: flex;
		flex-direction: column;
		padding: var(--space-xl);
		border: 1px solid var(--color-very-subtle);
		text-decoration: none;
		background: white;
	}

	.blog-card:hover {
		border-color: var(--color-subtle);
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
	}

	.blog-card-content {
		display: flex;
		flex-direction: column;
		gap: var(--space-xs);
		height: 100%;
	}

	.blog-card-date {
		font-size: var(--fs-xs);
		color: var(--color-muted);
		font-weight: 500;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}


	.blog-card-description {
		font-size: var(--fs-base);
		line-height: var(--leading-base);
		color: var(--color-muted);
		margin: 0;
		margin-top: var(--space-m);
		flex-grow: 1;
	}

	.blog-card-link {
		font-size: var(--fs-base);
		color: var(--color-yellow);
		font-weight: 500;
		margin-top: var(--space-xs);
		text-decoration: none;
	}

	.blog-card:hover .blog-card-link {
		text-decoration: underline;
	}

	@media (max-width: 768px) {
		.blog-cards {
			gap: var(--space-m);
		}

		.blog-card {
			padding: var(--space-l);
		}
	}

	.work-card-stacked {
		display: flex;
		flex-direction: column;
		gap: var(--space-m);
	}


	.work-card-stacked:hover {
		color: var(--color-muted);
	}

	.work-card-stacked .work-figure {
		margin: 0;
		overflow: hidden;
		border-radius: var(--border-radius-base);
	}

	.work-card-stacked .work-figure img {
		width: 100%;
		height: auto;
		display: block;
		transition:
			transform 240ms ease,
			opacity 240ms ease;
	}

	.work-card-stacked:hover .work-figure img {
		transform: scale(1.02);
		opacity: 0.95;
	}

	.work-card-description {
		font-family: var(--font-body);
		font-size: var(--fs-md);
		line-height: var(--leading-base);
		color: var(--color-muted);
		max-width: 60ch;
		margin: 0;
	}

	@media (max-width: 768px) {
		.work-card-description {
			font-size: var(--fs-base);
		}
	}
</style>

<script>
	// fallback: if mux-player fails to load, replace with image
	const player = document.getElementById("baxter-player");
	if (player) {
		player.addEventListener("error", () => {
			const figure = player.closest(".work-figure");
			if (figure) {
				figure.innerHTML =
					'<img src="/images/baxter.png" alt="Baxter dialysis user interface" loading="lazy" />';
			}
		});
	}
</script>

<script>
	// Parallax scroll effect for page background SVG
	const pageBg = document.querySelector(".page-bg") as HTMLElement | null;
	if (pageBg) {
		const parallaxSpeed = 0.2;
		let ticking = false;

		const updateParallax = () => {
			const scrollY = window.scrollY;
			const scrollHeight =
				document.documentElement.scrollHeight - window.innerHeight;
			const scrollProgress = scrollY / scrollHeight;

			// Parallax: move upward as you scroll (negative = up)
			pageBg.style.transform = `translateY(-${0.5 * scrollY * parallaxSpeed}px)`;

			// Fade in opacity from 70% to 75% scroll
			const fadeStart = 0.76;
			const fadeEnd = 0.82;
			const opacity = Math.max(
				0,
				Math.min(
					1,
					(scrollProgress - fadeStart) / (fadeEnd - fadeStart),
				),
			);
			pageBg.style.opacity = opacity.toString();
			ticking = false;
		};

		window.addEventListener(
			"scroll",
			() => {
				if (!ticking) {
					requestAnimationFrame(updateParallax);
					ticking = true;
				}
			},
			{ passive: true },
		);

		// Initial call to position correctly
		updateParallax();
	}
</script>

<script>
	// Service text highlight effect when in middle 10% of screen
	const serviceItems = document.querySelectorAll(
		".service-item",
	) as NodeListOf<HTMLElement>;
	if (serviceItems.length > 0) {
		let ticking = false;

		const updateHighlight = () => {
			const viewportHeight = window.innerHeight;
			const targetY = viewportHeight * 0.5; // Center of viewport

			let closestItem: HTMLElement | null = null;
			let closestDistance = Infinity;

			// Find the item closest to the center
			serviceItems.forEach((item) => {
				const rect = item.getBoundingClientRect();
				const itemCenter = rect.top + rect.height / 2;
				const distance = Math.abs(itemCenter - targetY);

				if (distance < closestDistance) {
					closestDistance = distance;
					closestItem = item;
				}
			});

			// Only highlight the closest item
			serviceItems.forEach((item) => {
				if (item === closestItem) {
					item.classList.add("in-focus");
				} else {
					item.classList.remove("in-focus");
				}
			});

			ticking = false;
		};

		window.addEventListener(
			"scroll",
			() => {
				if (!ticking) {
					requestAnimationFrame(updateHighlight);
					ticking = true;
				}
			},
			{ passive: true },
		);

		// Initial call
		updateHighlight();
	}
</script>
